import{s as z}from"./chunk-LvLJmgfZ.js";import"./jotai-D74Ef_p1.js";import{t as P}from"./react-XTZdWHwa.js";import{w as D}from"./cells-XWXpgwpH.js";import"./react-dom-BZDtXk6t.js";import"./zod-BBqism5D.js";import{t as I}from"./compiler-runtime-QczY1yfQ.js";import"./_Uint8Array-BGESiCQL.js";import"./isSymbol-BGkTcW3U.js";import"./toString-DlRqgfqz.js";import"./toNumber-GB_lFVaq.js";import"./toInteger-Cl1doThW.js";import"./isArrayLikeObject-BkJc8lDE.js";import"./_getTag-BWqNuuwU.js";import"./_baseIsEqual-C8v2yRqO.js";import"./merge-DVX6Ez37.js";import"./_baseSlice-CskhCEVH.js";import"./useLifecycle-bYJVBwo9.js";import"./_hasUnicode-BC4vb_bF.js";import"./_arrayReduce-BPS6ICyD.js";import"./type-Bx7IFbhF.js";import"./_baseProperty-Bl8lQyHQ.js";import"./now-DBnXnRPe.js";import"./debounce-BzCP2SOK.js";import"./hotkeys-sK-kaEBC.js";import"./invariant-EWlZS5z8.js";import"./utils-Clm_pCuX.js";import{n as F}from"./constants-O0mPFSN0.js";import"./config-ljv4_QXT.js";import"./useEventListener-BMXqdHZ5.js";import{t as O}from"./jsx-runtime-B4_2-8Ho.js";import{i as W,t as g}from"./button-BtVgadIf.js";import"./clsx-CGw3WJH5.js";import{t as q}from"./cn-f3ruLt4G.js";import{at as A}from"./dist-hQAzR0Cy.js";import"./dist-BWV-5FQQ.js";import"./once-DF3Ybce_.js";import"./capabilities-DPEuN0Kv.js";import"./cjs-VdEqhsWH.js";import"./createReducer-uDMmKGBt.js";import{r as B}from"./requests-CMMs4cl8.js";import"./dist-a5AhnPua.js";import"./dist-AYL4p4Dn.js";import"./createLucideIcon-C9QGcv--.js";import{n as $,t as G}from"./LazyAnyLanguageCodeMirror-LOVWlBJF.js";import"./check-Pczj-rmu.js";import{h as L}from"./select-Dre1F6mo.js";import"./toDate-J43JkZRd.js";import"./copy-CGmj_xHa.js";import"./DeferredRequestRegistry-DUZWfqOX.js";import{t as R}from"./spinner-cyqSIlb0.js";import{t as T}from"./plus-CcDW_rEW.js";import"./input-fjIzfaON.js";import"./badge-DjEl44tW.js";import"./preload-helper-WDmkW-6F.js";import"./dist-BFZNB01C.js";import"./dist-DjRxw7g7.js";import"./dist-BRKC9vDH.js";import"./dist-C2lGLtUJ.js";import"./dist-CiIxDFsH.js";import"./stex-BQjjdb1n.js";import"./Deferred-cELqHKYi.js";import"./uuid-DFgsIVBI.js";import"./use-toast-CTk3v2Fk.js";import"./main-B1nOh376.js";import"./useNonce-BPtPhVM4.js";import"./connection-DZfQ0nfK.js";import{n as U}from"./useTheme-DNzypnwR.js";import"./Combination-DIF6wDxT.js";import"./dist-DTKIwXcy.js";import{t as V}from"./tooltip-DEUNsdbK.js";import"./menu-items-QU91GQzu.js";import"./mode-OgOLIWqz.js";import"./alert-dialog-CYJZg0vV.js";import{a as J,c as K,i as Q,n as X,r as Y}from"./dialog-C-S4uQH4.js";import"./usePress-CuSksPzr.js";import"./SSRProvider-DrIPqn2D.js";import"./context-C5uPODSj.js";import"./useNumberFormatter-C1aNc7b4.js";import"./numbers-BWXaNlZC.js";import"./useEvent-bc5jSpSz.js";import"./useDebounce-Dz48GAub.js";import{n as Z}from"./ImperativeModal-DD50EU1G.js";import{n as ee}from"./error-banner-BVpxvuDQ.js";import"./copy-CL0ql7QN.js";import"./copy-icon-DyWZDAiU.js";import{t as te}from"./RenderHTML-CDZ5aEc_.js";import"./purify.es-B1k9qoU6.js";import"./useRunCells-Ds9oEET1.js";import{n as re}from"./useAsyncData-CWTnKpYp.js";import"./dist-CSuUnJvL.js";import{d as oe,f as ie,g as se,l as le,o as me,s as ne}from"./focus-BLLpcsff.js";import{t as ae}from"./empty-state-C0F9aXq7.js";import{t as M}from"./kiosk-mode-i02oHc6v.js";var E=I(),S=z(P(),1),r=z(O(),1);const pe=t=>{let e=(0,E.c)(6),{children:o}=t,{openModal:l,closeModal:s}=Z(),i;e[0]!==s||e[1]!==l?(i=()=>l((0,r.jsx)(ce,{onClose:s})),e[0]=s,e[1]=l,e[2]=i):i=e[2];let m;return e[3]!==o||e[4]!==i?(m=(0,r.jsx)(W,{onClick:i,children:o}),e[3]=o,e[4]=i,e[5]=m):m=e[5],m};var ce=t=>{let e=(0,E.c)(4),{onClose:o}=t,l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l=(0,r.jsx)(K,{children:"Contribute a Snippet"}),e[0]=l):l=e[0];let s;e[1]===Symbol.for("react.memo_cache_sentinel")?(s=(0,r.jsxs)(J,{children:[l,(0,r.jsxs)(Y,{children:["Have a useful snippet you want to share with the community? Make a pull request"," ",(0,r.jsx)("a",{href:F.githubPage,target:"_blank",className:"underline",children:"on GitHub"}),"."]})]}),e[1]=s):s=e[1];let i;return e[2]===o?i=e[3]:(i=(0,r.jsxs)(X,{className:"max-w-md",children:[s,(0,r.jsx)(Q,{children:(0,r.jsx)(g,{"data-testid":"snippet-close-button",variant:"default",onClick:o,children:"Close"})})]}),e[2]=o,e[3]=i),i},C=I(),de=[A.lineWrapping],he=()=>{let t=(0,C.c)(22),{readSnippets:e}=B(),[o,l]=S.useState(),s;t[0]===e?s=t[1]:(s=()=>e(),t[0]=e,t[1]=s);let i;t[2]===Symbol.for("react.memo_cache_sentinel")?(i=[],t[2]=i):i=t[2];let{data:m,error:a,isPending:N}=re(s,i);if(a){let n;return t[3]===a?n=t[4]:(n=(0,r.jsx)(ee,{error:a}),t[3]=a,t[4]=n),n}if(N||!m){let n;return t[5]===Symbol.for("react.memo_cache_sentinel")?(n=(0,r.jsx)(R,{size:"medium",centered:!0}),t[5]=n):n=t[5],n}let _=o?"h-1/3":"h-full",d;t[6]===_?d=t[7]:(d=q("border-b rounded-none",_),t[6]=_,t[7]=d);let h;t[8]===Symbol.for("react.memo_cache_sentinel")?(h=(0,r.jsx)(oe,{placeholder:"Search snippets...",className:"h-6 m-1",rootClassName:"flex-1 border-r"}),t[8]=h):h=t[8];let b,f;t[9]===Symbol.for("react.memo_cache_sentinel")?(b=(0,r.jsxs)("div",{className:"flex items-center w-full",children:[h,(0,r.jsx)(pe,{children:(0,r.jsx)("button",{className:"float-right border-b px-2 m-0 h-full hover:bg-accent hover:text-accent-foreground",children:(0,r.jsx)(T,{className:"h-4 w-4"})})})]}),f=(0,r.jsx)(le,{children:"No results"}),t[9]=b,t[10]=f):(b=t[9],f=t[10]);let x;t[11]===Symbol.for("react.memo_cache_sentinel")?(x=n=>l(n),t[11]=x):x=t[11];let u;t[12]===m.snippets?u=t[13]:(u=(0,r.jsx)(xe,{onSelect:x,snippets:m.snippets}),t[12]=m.snippets,t[13]=u);let p;t[14]!==d||t[15]!==u?(p=(0,r.jsxs)(ne,{className:d,children:[b,f,u]}),t[14]=d,t[15]=u,t[16]=p):p=t[16];let c;t[17]===o?c=t[18]:(c=(0,r.jsx)(S.Suspense,{children:(0,r.jsx)("div",{className:"h-2/3 snippet-viewer flex flex-col",children:o?(0,r.jsx)(fe,{snippet:o,onClose:()=>l(void 0)},o.title):(0,r.jsx)(ae,{title:"",description:"Click on a snippet to view its content."})})}),t[17]=o,t[18]=c);let j;return t[19]!==c||t[20]!==p?(j=(0,r.jsxs)("div",{className:"flex-1 overflow-hidden",children:[p,c]}),t[19]=c,t[20]=p,t[21]=j):j=t[21],j},fe=t=>{let e=(0,C.c)(33),{snippet:o,onClose:l}=t,{theme:s}=U(),{createNewCell:i}=D(),m=me(),a;e[0]!==i||e[1]!==m||e[2]!==o.sections?(a=()=>{for(let v of[...o.sections].reverse())v.code&&i({code:v.code,before:!1,cellId:m??"__end__",skipIfCodeExists:!0})},e[0]=i,e[1]=m,e[2]=o.sections,e[3]=a):a=e[3];let N=a,_;e[4]!==i||e[5]!==m?(_=v=>{i({code:v,before:!1,cellId:m??"__end__"})},e[4]=i,e[5]=m,e[6]=_):_=e[6];let d=_,h;e[7]===o.title?h=e[8]:(h=(0,r.jsx)("span",{children:o.title}),e[7]=o.title,e[8]=h);let b;e[9]===Symbol.for("react.memo_cache_sentinel")?(b=(0,r.jsx)(L,{className:"h-4 w-4"}),e[9]=b):b=e[9];let f;e[10]===l?f=e[11]:(f=(0,r.jsx)(g,{size:"sm",variant:"ghost",onClick:l,className:"h-6 w-6 p-0 hover:bg-muted-foreground/10",children:b}),e[10]=l,e[11]=f);let x;e[12]!==h||e[13]!==f?(x=(0,r.jsxs)("div",{className:"text-sm font-semibold bg-muted border-y px-2 py-1 flex justify-between items-center",children:[h,f]}),e[12]=h,e[13]=f,e[14]=x):x=e[14];let u;e[15]===Symbol.for("react.memo_cache_sentinel")?(u=(0,r.jsx)($,{className:"ml-2 h-4 w-4"}),e[15]=u):u=e[15];let p;e[16]===N?p=e[17]:(p=(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)(M,{children:(0,r.jsxs)(g,{className:"float-right",size:"xs",variant:"outline",onClick:N,children:["Insert snippet",u]})})}),e[16]=N,e[17]=p);let c;if(e[18]!==d||e[19]!==o.sections||e[20]!==o.title||e[21]!==s){let v;e[23]!==d||e[24]!==o.title||e[25]!==s?(v=H=>{let{code:y,html:k,id:w}=H;return k?(0,r.jsx)("div",{children:te({html:k})},`${o.title}-${w}`):y?(0,r.jsxs)("div",{className:"relative hover-actions-parent pr-2",children:[(0,r.jsx)(M,{children:(0,r.jsx)(V,{content:"Insert snippet",children:(0,r.jsx)(g,{className:"absolute -top-2 -right-1 z-10 hover-action px-2 bg-background",size:"sm",variant:"outline",onClick:()=>{d(y)},children:(0,r.jsx)($,{className:"h-5 w-5"})})})}),(0,r.jsx)(S.Suspense,{children:(0,r.jsx)(G,{theme:s==="dark"?"dark":"light",language:"python",className:"cm border rounded overflow-hidden",extensions:de,value:y,readOnly:!0},`${o.title}-${w}`)})]},`${o.title}-${w}`):null},e[23]=d,e[24]=o.title,e[25]=s,e[26]=v):v=e[26],c=o.sections.map(v),e[18]=d,e[19]=o.sections,e[20]=o.title,e[21]=s,e[22]=c}else c=e[22];let j;e[27]!==p||e[28]!==c?(j=(0,r.jsxs)("div",{className:"px-2 py-2 space-y-4 overflow-auto flex-1",children:[p,c]}),e[27]=p,e[28]=c,e[29]=j):j=e[29];let n;return e[30]!==j||e[31]!==x?(n=(0,r.jsxs)(r.Fragment,{children:[x,j]}),e[30]=j,e[31]=x,e[32]=n):n=e[32],n},xe=t=>{let e=(0,C.c)(7),{snippets:o,onSelect:l}=t,s;if(e[0]!==l||e[1]!==o){let m;e[3]===l?m=e[4]:(m=a=>(0,r.jsx)(ie,{className:"rounded-none",onSelect:()=>l(a),children:(0,r.jsx)("div",{className:"flex flex-row gap-2 items-center",children:(0,r.jsx)("span",{className:"mt-1 text-accent-foreground",children:a.title})})},a.title),e[3]=l,e[4]=m),s=o.map(m),e[0]=l,e[1]=o,e[2]=s}else s=e[2];let i;return e[5]===s?i=e[6]:(i=(0,r.jsx)(se,{className:"flex flex-col overflow-auto",children:s}),e[5]=s,e[6]=i),i};export{he as default};
